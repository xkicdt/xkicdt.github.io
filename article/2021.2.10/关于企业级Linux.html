<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>关于企业级Linux</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="linux,redhat,红帽,企业级linux">
        <meta name="description" content="从2005年开始，SUSE与红帽的战争就没停过。这很不利于Linux社区，因为它们都是技术巨头。Canonical没什么技术，对于Debian社区就是吸血者，用商业宣传得到了那么多市场份额，这点到后面会讲。这篇文章主要分析这些巨头发行版的商业模式。">
        <meta name="author" content="xkicdt">
        <style type="text/css">
            h1 {text-align: center;font-size: 64px;}
            h2 {font-size: 32px;}
            h3 {font-size: 16px;text-indent: 32px;}
            h4 {font-size: 16px;}
            h5 {font-size: 48px;}
            p {
                word-break: break-all;
                text-indent: 32px;
                font-size: 16xp;
            }
        </style>
    </head>
    <body>
        <article>
            <h1>关于企业级Linux(上)</h1>
            <h5>总述</h5>
            <p>从2005年开始，SUSE与红帽的战争就没停过。这很不利于Linux社区，因为它们都是技术巨头。Canonical没什么技术，对于Debian社区就是吸血者，用商业宣传得到了那么多市场份额，这点到后面会讲。这篇文章主要分析这些巨头发行版的商业模式。</p>
            <h2>关于红帽</h2>
            <p>大家都知道，红帽是一家非常有钱的公司，2019年的总营收达到了34亿美元，并且在同年，IBM斥资340亿美元收购了红帽。这些东西都是赚钱的：</p>
            <h3>Red Hat Ansible Automation Platform</h3>
            <h3>Red Hat Enterprise Linux</h3>
            <h3>Red Hat OpenShift</h3>
            <h3>Red Hat OpenShift Container Storage</h3>
            <h3>Red Hat OpenShift Platform</h3>
            <p>其实这些东西都是开源的，源码拿来自己编译一份就能用，红帽赚的是商业支持的钱。比如Red Hat Enterprise Linux，镜像都在官网上放着，注册个账号就能下载，也能免费用，但是你不能就这样长期用下去，必须得更新啊，如果哪爆出个Day0漏洞你就容易中招，红帽直到新版本发布才会打包iso，[想要更新就到官网上下载8+GB的iso镜像]这条路也被封死了。更新是在商业服务范畴内的，想要[sudo dnf update]你就得订阅，想要方便的装iso镜像里不带的软件你也得订阅，要不都跟Slackware那样自己到上游ftp下载包自己处理依赖。然而，这个订阅到底多少钱呢？我们在红帽官网上了解到，红帽的标准订阅，最便宜的也就是Red Hat Enterprise Linux Developer Suite，红帽开发人员套件，没有商业支持，一年99美元。但是红帽还提供了开发人员订阅，只要有开发者账号就能白嫖一年。</p>
            <h2>红帽与付费客户的关系</h2>
            <p>但是，从[Enterprise]字眼里，我们也可以知道，这东西是提供给企业用户的，这些用户根本不缺钱，一年几百美元对于他们来说很便宜。他们缺的是支持，而红帽正好看准了这一点。它瞧不起没钱的个人开发者，这就是资本的力量，谁有钱我就跟谁走。只要钱给到位，红帽可以提供7x24的支持，甚至派工程师到场支持，这也相当于一个保险，如果大客户的业务因为RHEL的bug受到了影响，红帽甚至能提供相应的赔付，因为这是它们的问题。但是RHEL确实非常可靠，除非客户让半吊子运维来使用服务器。这也让它积累了好口碑。在中国大陆这边，红帽是被中国政府请进来的，原来在这边SUSE几乎一统天下，但是政府用了红帽，运维也得适应，用了Red Hat Linux之后都说好，名声就传开了。</p>
            <h2>红帽与非付费用户的关系</h2>
            <p>无论哪个商业公司都是资本家的工具，资本家要获取利益，所以不要钱的开发者订阅也是[一个账户只有一年]，到了一年就还是要付费的，其实就是让你熟悉RHEL，并且在RHEL上建立开发工具链，使得你不想费劲迁移，达到最终付费的目的。这是很不[自由]的。不排除还有那些装好就不用任何[需要订阅服务]的人，他们可以不更新用到死，但是检查/处理包依赖就困难了很多，也不能获得更新和漏洞修补程序。</p>
            <h2>红帽与上游的关系</h2>
            <p>首先得说，由于红帽技术力量较强，很多东西都是他们自己开发的，所以自己担当了很多软件的上游。还有其它上游，红帽对待这些软件的态度是尽量减少改动，不用最新版本，也不能用太旧版本，尽量用[上个稳定版]，这就保证了软件经过很多测试，稳定性能保证，也不会太老，至少不像CentOS那样老。</p>
            <h2>红帽与社区的关系</h2>
            <h4>1.Fedora</h4>
            <p>红帽是开源公司，他们把Red Hat Linux的代码开源，一些人编译出了Fedora。现在Fedora因为它的[新、快]被很多人使用，也建立了庞大的社区。红帽当然不能放过这么好的机会，直接成为了Fedora的[赞助商]。实际上是高压控制，把Fedora当成了红帽新技术的试验田。但是红帽是个开源公司，做出来的东西都是要开源的，所以这些代码也相当于给社区做了贡献。[我给社区做贡献，社区帮我赚大钱]说的就是这个。</p>
            <h4>2.RHEL</h4>
            <p>RHEL的社区不大，大客户根本没有到社区问问题、瞎扯淡的，RHEL社区全是开发者订阅那帮人。</p>
            <h4>3.CentOS</h4>
            <p>从CentOS要停止支持这一件事看出，红帽是想搞死CentOS的，当年的[招安]最终目的就是这个，让CentOS处于高压控制下，就跟冷战时期苏联对东欧国家所做的事一样。因为CentOS和RHEL业务范围起了冲突，所以CentOS必须死。但是红帽毕竟是个商业公司，资本家要[利益最大化]，要压榨出[全部利益]，所以CentOS虽是死了，但是仍然被压榨，CentOS的主线要停止支持，但是CentOS Stream没有停止啊，红帽要用CentOS Stream作为Fedora和RHEL之间的那层，让RHEL多一层试验田，好让更多人朝着[稳定]这一优点买RHEL的订阅。而Fedora，现在只借用RHEL的底层，连内核都重新设置了编译选项，让它变得更快了，所以Fedora也是红帽在桌面领域对抗Ubuntu的权宜之策。这种东西给了资本家带来了利益，所以Fedora社区是红帽做了很多贡献的。红帽的社区观，一直是跟着资本走的。</p>
            <h2>关于SUSE</h2>
            <p>这个德国公司，以及他们的发行版：SUSE Linux Enterprise可能很多人没有听过，但它是个非常强大的发行版。在2000年，它和IBM成为合作伙伴，成为Power系列唯一指定操作系统提供商，在这之前它根本没有x86版本，一心为大客户IBM提供最稳定的Linux，Red Hat Linux在此时不支持PowerPC架构。这样，它的稳定性不言而喻。在2013年左右，超算的首选操作系统就是SUSE Linux Enterprise。而且在当时，世界500强企业中有80%以上都在用SUSE的产品，包括但不限于SUSE Linux Enterprise。而且华为、腾讯、中兴、中国电信等公司都在他们的服务器上使用SLE，但是现在只有中兴和电信仍在使用。它还是SAP早期唯一认证的操作系统，并且不通过RHEL（但是现在通过了），也就是说在当年你想用SAP就必须使用SLE。他们在2005年分裂出了openSUSE，直到2013年后分出了Leap与CentOS竞争、Tumbleweed与Fedora竞争。Leap的底层和SLE一样，所以稳定性有保障，软件包也比CentOS新；Tumbleweed的软件比Fedora新，还有openQA这样的测试流程。而且openSUSE对于KDE的支持和KDE Neon一样，因为openSUSE的开发人员和KDE的开发人员是坐在一个办公室里的，他们都在德国纽伦堡。SUSE全系都有一个上天的管理工具YaST，是一个在命令行和GUI下都可以使用的控制面板，可以进行一切系统设置，都在GUI下完成，大大降低了运维难度，提高了运维效率。但是现在[2021年2月]他们的超算市场被抢（RH），桌面被抢（Canonical），服务器被抢（RHEL、Canonical），现在用户相比CentOS都只是一小部分。问题来了，这么厉害一个公司，他们的发行版怎么没占据那么多市场呢？这到后面会讲的。</p>
            <h2>SUSE与付费用户的关系</h2>
            <p>上面已经说过，SUSE当年是世界500强企业的御用Linux。这些用户一般不差钱，就像中国电信，虽没有移动有钱，但是也是三大运营商之一，还是中国最早搞有线宽带的运营商。直到现在，他们的宽带服务也是最好的，至少比移动那个总抽风的好。他们的服务要越稳定越好，最大程度减少所以他们并没有用RHEL而是用了SLE。其实RHEL和SLE对应订阅版本的价格相比起来RHEL的价格较低，但是他们还是用了SLE，这不言而喻。只要你付钱够了，就可以体验到和RHEL一样的支持服务。然而SLE并没有和RHEL一样的开发者订阅，RHEL是能白嫖一年的，但是SLE就不行。这样就导致了SLE根本没有社区。RHEL倒还是有个半死不活的社区。</p>
            <h2>SUSE与非付费用户的关系</h2>
            <p>SLE根本不提供那[开发者订阅]，任何时候都不能白嫖。但是它给了非付费用户一个另外的选择：openSUSE Leap。优点上面说过，Leap的底层和SLE一样，所以稳定性有保障，软件包也比CentOS新，所以可以作为SLE的无商业支持替代。这点就比红帽好，红帽那边CentOS软件包老得没法用。这是故意的，CentOS早已被红帽收编，根本不缺测试和人手，就是故意不让免费用户用[稍微新的软件包]。CentOS Stream本来就介于Fedora和RHEL中间，稳定性当然没有RHEL的水平。这点SUSE显然更友好。</p>
            <h2>SUSE与上游的关系</h2>
            <p>和红帽一样，SUSE也不会给上游点改动太大。但是SUSE会用openQA来测试很多回才会发布，所以很多包不如RHEL新，但是也是比较新的。openSUSE Leap会在SLE发布新包后的第一时间跟进，所有包都是，不像CentOS只有到大版本发布时才跟进。</p>
            <h2>SUSE与社区的关系</h2>
            <p>SUSE 公司层面只承认自己赞助了社区，[参与]了开发，它不承认[主导]、[安排资源做]，openSUSE项目是开源软件社区，SUSE是商业公司。是由SUSE 员工以个人身份在 openSUSE 项目参与了开发和维护。我们的社区是大家的，SUSE只是一个比较活跃的企业参与者。这和CentOS不同，CentOS是社区对RHEL的重编译版，由社区维护，RH 是不管的。openSUSE Leap是由维护 SLE 的同一帮人维护，当然甘心做雷锋的 SUSE 是不会承认的。（可以想象为德国人的执拗，社区就是社区，给了你我不放心怎么办，我把活儿干了然后不承认）；SUSE单独给openSUSE赞助了一个集群，这个集群是用来把安装过程全部拆解开，比如选时区（用人力是选不完200多个的吧？即使Ubuntu的用户基数它也选不到，比如蒙古乌拉巴托的吧？），然后到了按[OK]还是[Cancel]的时候在虚拟机里进行截图存照。之前步骤出错是看不到这个页面的，虚拟机截不到这个图就证明前一个步骤有错误，于是人力就会介入去修。修好，继续跑，openQA 程序会自动记录状态，直接从这里开始，自动发送。他们连ARM平台都是这么测的。可能还存在一个误区：SUSE会把好东西藏到SLE。事实上它只是对SLE做更多的测试，根据企业应用需要做修改，它的工程师主要干这个事情，而不是[这个bug我在SLE修了不给openSUSE修]，因为那样未来还是要修。与之相反它反而会把SLE上发现的bug修到openSUSE，持续的整理在[根据企业应用需要做修改]中的通用部分并反馈回openSUSE和上游，因为那样他们维护的代码树会变少。</p>
            <h5>研究</h5>
            <h2>服务</h2>
            <p>红帽的服务是最好的。他们公司人口基数多，工程师也多，如果你用的不是非洲小部落语言的话，他们就都能找到说你的语言的工程师为你提供支持服务，甚至还可以提供上门服务，前提是你交钱了。SUSE这边的商业支持统一英语，对于英语不好的国人来说这就是噩梦。对于德国境内的用户来说，还有可能是德语。但是别忘了还有一家公司叫Canonical，也就是Ubuntu的开发公司。他们也有商业支持，但是毕竟公司体量小，也穷，商业支持肯定不如那两家。但是他们可闲坏了，Ubuntu是[被动去修bug]有时还不管[小bug]，但是SUSE和红帽这边是去主动发现bug的，这就决定了[内部错误]的多少。</p>
            <h2>与社区关系</h2>
            <p>上面说了，SUSE在公司层面参与了openSUSE这个[社区项目]的开发，Red Hat哪里赚钱去哪里，但是人家确确实实是给社区做了贡献的。Canonical就不一样了，它对于社区只是吸血者，并没有什么贡献，不满Wayland搞了Mir，不满GNOME搞了Unity，这些一个也没成功的。其实没有什么不满，只是觉得赚不到钱，必须自己搞一个在商业上才能站得住脚，才能让用户觉得[这个公司技术强]，但是都失败了，这事真的喜闻乐见。</p>
            <h2>SUSE的人气为何不好呢？</h2>
            <p>SUSE一开始根本没有注重宣传。RH被政府请进了中国，现在又出现这么多爱国营销发行版，openSUSE起来更难。一堆培训班都教的是RHEL，出来的SA只会RH系，又没有教SLE的，这就代表以后会SLE的SA越来越少，这就导致了恶性循环，企业不用SLE-->会SLE的SA没有用-->SA赚不到钱-->谁都不愿意去学SLE-->教SLE的培训班越来越少-->会SLE的SA越来越少-->企业不用SLE；现在在中国使用SLE的企业只是少数。如果我写个文章或者做个视频说蜥蜴系怎么怎么好，看到的人就会：“是，好，但是我Ubuntu用的挺不错啊，为啥要费劲换发行版呢？”就像这样，宣传了也没用，最后社区里面全是“我做了宣传没用，太麻烦”最后谁也不愿意去做宣传，这个发行版怎么也起不来。其实这是一个口碑的积累。Ubuntu一开始的目标是“证明GNU/Linux不比win差”所以它创立之初就会有好多大牛在社区“Make Linux Great Again"结果到后来，就像一位RH员工说的”Canonical就是一家伪装成开源技术公司的商业营销公司“。但口碑已经积累下来了，Ubuntu的”简单易用“已经成为共识，Canonical也免费派发光盘，就有越来越多人加入了，成为一个良性循环。但是用Ubuntu的一般是新手、刚入门的人（原因是Canonical的商业营销和背叛初心让大牛们转向其它发行版），技术能力较低，所以不知道Canonical干了什么见不得人的事，所以不会弃用Ubuntu。自由软件教父Richard Stallman的<a href="http://www.gnu.org/philosophy/ubuntu-spyware">文章</a>。看到了吧，自由软件教父Richard Stallman的文章：Ubuntu把用户搜索记录发到公司服务器上，不告知用户；Canonical还公开在motd上贴广告，从17.04开始，一搜一大堆。fedora起来完全是靠它有个好父亲：Red Hat | 和一个著名的用户：Linus Torvalds。[Linux创始人都在用，那就是好用，我就去用]。这两个发行版人太多了，名气太大了，出问题上网搜，一大堆解决方法；现在openSUSE想起来，实在太难，人又抢不过来。毕竟社区人少，整个系统也没多少问题，自然活跃度就低。关于软件源这件事，国内有很多镜像站为其提供了镜像，刷新、下载速度这一块现在是没问题；喜欢新软件的可以用Tumbleweed，滚动更新，软件新旧程度介于Fedora和Arch之间；还有KDE的问题，SLE已经放弃了KDE转向GNOME，原因是GNOME用GTK但KDE用Qt，导致KDE的稳定性和兼容性不是特别好。但openSUSE还是保留KDE作为默认桌面，需要在安装时选GNOME桌面才会装GNOME，这也就导致了尝试openSUSE的新人装上KDE。KDE固然华丽，但是确实问题比GNOME多。结果，KDE在他的机器上不能工作的特别好，他就对这个发行版产生了不好的印象，从而放弃它；然而GNOME却能在他的机器上很好的工作，但是连施展拳脚的机会都没有就被丢弃了。在服务器这一方面，openSUSE Leap其实非常稳定，能沾上SLE的光，内核和重要的底层由SUSE维护，稳定性和同版本SLE差不多，甚至和SLE都能赶上CentOS（Rocky Linux）/RHEL。这也就是为什么RH这次搞死CentOS是openSUSE抢CentOS用户的好机会。稳定性不差CentOS，软件包还比CentOS新。知道这些后，哪个SA不想尝试一下？只可惜，openSUSE这个发行版在国内名气太小，很多SA都没有机会知道。有句老话：”得服务器者得天下“这就又陷入了恶性循环：知名度低-->SA不知道-->公司不会用SLE/openSUSE-->SUSE收入少/社区不活跃-->没有宣传经费/没有宣传人力-->宣传不到位-->知名度低。上次我看到一个营销号发的RH停止CentOS的文章，下面的评论有很多”那就换Ubuntu“”实在不行就Ubuntu Server“但是openSUSE Leap却能很好的担当这一角色，但下面却没有一个说”那就换openSUSE“的。是之前写的脚本不兼容？并不是，他们既然能换Ubuntu说明脚本可以重写，因为Ubuntu与CentOS的差异比openSUSE与CentOS大多了。这就是知名度低所造成的结果了。</p>
            <h2>以上</h2>
        </article>
    </body>
</html>